# 📋 셰르파 앱 퀘스트 시스템 가이드

## 🎯 퀘스트 보상 체계

### 일일 퀘스트 (매주 5개)
- **쉬움**: +20 XP
- **보통**: +30 XP, 30% 확률로 능력치 증가
- **어려움**: +50 XP, 50% 확률로 능력치 증가
- **전체 완료 보너스**: +100 XP, +50 Point

### 주간 퀘스트 (매주 5개)
- **쉬움**: +30 XP, 30% 확률로 능력치 증가
- **보통**: +50 XP, 50% 확률로 능력치 증가
- **어려움**: +80 XP, +50 Point, 70% 확률로 능력치 증가
- **전체 완료 보너스**: +300 XP, +100 Point

### 고급 퀘스트 (매주 3개, 유료)
- **레어**: +100 XP, +100 Point, 70% 확률로 능력치 증가
- **에픽**: +150 XP, +200 Point, 100% 확률로 능력치 증가
- **전설**: +200 XP, +300 Point, 100% 확률로 능력치 +0.2

---

## 🌅 일일 퀘스트

### 쉬움 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| D_E_01 | 출석 체크 | 오늘도 셰르파에 접속해주세요! | 의지력 | 앱 실행 시 자동 완료 |
| D_E_02 | 걸음수 3000보 달성 | 건강한 하루를 위해 3000보를 걸어보세요 | 체력 | `dailyRecords.todaySteps >= 3000` |
| D_E_03 | 프로필 확인하기 | 내 성장 현황을 확인해보세요 | 의지력 | 프로필 탭 방문 |
| D_E_04 | 레벨업 현황 확인 | 내 산 등반 진행상황을 확인해보세요 | 의지력 | 레벨업 탭 방문 |
| D_E_05 | 모임 둘러보기 | 오늘의 추천 모임을 확인해보세요 | 사교성 | 모임 탭 방문 |
| D_E_06 | 포인트 확인하기 | 내 포인트 잔액을 확인해보세요 | 기술 | 포인트샵 방문 |
| D_E_07 | 챌린지 둘러보기 | 진행 중인 챌린지들을 확인해보세요 | 사교성 | 챌린지 탭 방문 |

### 보통 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| D_M_01 | 등반 성공하기 | 오늘 도전한 산을 성공적으로 등반해보세요 | 기술 | `ClimbingRecord.isSuccess == true` |
| D_M_02 | 모임 후기 작성하기 | 참여한 모임의 후기를 남겨보세요 | 사교성 | `MeetingReview` 작성 |
| D_M_03 | 6000걸음 달성하기 | 건강한 하루를 위해 걸어보세요 | 체력 | `dailyRecords.todaySteps >= 6000` |
| D_M_04 | 뱃지 1개 장착하기 | 전략적으로 뱃지를 선택해 장착해보세요 | 기술 | 뱃지 장착 변경 |

### 어려움 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| D_H_01 | 30분 몰입 타이머 | 집중해서 30분간 몰입해보세요 | 의지력 | `dailyRecords.todayFocusMinutes >= 30` |
| D_H_02 | 10000걸음 달성하기 | 오늘은 1만보에 도전해보세요! | 체력 | `dailyRecords.todaySteps >= 10000` |
| D_H_03 | 모든 일일 활동 완료 | 운동, 독서, 일기를 모두 완료해보세요 | 의지력 | 운동, 독서, 일기 모두 완료 |
| D_H_04 | 포인트 100P 이상 획득 | 활발한 활동으로 많은 포인트를 모아보세요 | 기술 | 일일 포인트 획득량 |
| D_H_05 | 독서 30페이지 이상 | 집중해서 30페이지 이상 읽어보세요 | 지식 | `ReadingLog.pages >= 30` |
| D_H_06 | 영화 감상 기록 | 영화를 보고 느낀 점을 기록해보세요 | 지식 | `MovieLog` 추가 |

---

## 📅 주간 퀘스트

### 쉬움 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| W_E_01 | 주 3회 앱 접속 | 일주일에 3번 이상 셰르파를 방문해보세요 | 의지력 | 주간 앱 실행 횟수 >= 3 |
| W_E_02 | 총 20000걸음 달성 | 일주일 동안 총 2만보를 걸어보세요 | 체력 | 주간 걸음수 합계 >= 20000 |
| W_E_03 | 주 2회 운동 기록 | 일주일에 2번 이상 운동을 기록해보세요 | 체력 | 주간 운동 기록 횟수 >= 2 |
| W_E_04 | 등반 5회 이상 완료하기 | 이번주 등반하기 기능 5회 이상 완료 | 기술 | 주간 등반 횟수 >= 5 |
| W_E_05 | 주 3회 독서 기록 | 일주일에 3번 이상 독서를 기록해보세요 | 지식 | 주간 독서 기록 횟수 >= 3 |

### 보통 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| W_M_01 | 주 5회 일기 작성 | 일주일에 5번 이상 일기를 써보세요 | 의지력 | 주간 일기 작성 횟수 >= 5 |
| W_M_02 | 영화 2편 기록 | 주말에 본 영화를 기록해보세요 | 지식 | 주간 `MovieLog` 개수 >= 2 |
| W_M_03 | 총 50000걸음 달성 | 일주일 동안 총 5만보를 걸어보세요 | 체력 | 주간 걸음수 합계 >= 50000 |
| W_M_04 | 총 180분 몰입 | 일주일 동안 총 3시간 몰입해보세요 | 의지력 | 주간 몰입 시간 합계 >= 180 |
| W_M_05 | 모임 1회 참여 | 이번 주에 모임에 참여해보세요 | 사교성 | `MeetingLog` 추가 |
| W_M_06 | 포인트 500P 모으기 | 활발한 활동으로 500포인트를 모아보세요 | 기술 | 주간 포인트 획득량 >= 500 |
| W_M_07 | 주 5회 영화/독서 기록 | 문화생활을 즐기고 기록해보세요 | 지식 | `MovieLog` + `ReadingLog` >= 5 |
| W_M_08 | 모임 후기 작성 | 참여한 모임의 후기를 작성해보세요 | 사교성 | 주간 모임 후기 1개 이상 |

### 어려움 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| W_H_01 | 매일 완벽한 하루 | 5일 이상 모든 일일 활동을 완료해보세요 | 의지력 | `isAllGoalsCompleted` 5일 이상 |
| W_H_02 | 총 100000걸음 달성 | 일주일 동안 총 10만보를 걸어보세요 | 체력 | 주간 걸음수 합계 >= 100000 |
| W_H_03 | 모든 활동 마스터 | 운동, 독서, 일기, 몰입을 매일 완료해보세요 | 의지력 | 모든 활동 7일 연속 완료 |
| W_H_04 | 챌린지 참여하기 | 새로운 챌린지에 참여해보세요 | 사교성 | `ChallengeRecord` 추가 |
| W_H_05 | 2개 모임 동시 참여 | 서로 다른 2개의 모임에 적극 참여하세요 | 사교성 | 2개 모임 각각 활동 기록 |
| W_H_06 | 주간 포인트 1000P 획득 | 활발한 활동으로 1000포인트를 획득하세요 | 기술 | 주간 포인트 획득량 >= 1000 |

---

## 💎 고급 퀘스트 (유료)

### 레어 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| P_R_01 | 산악 마스터 | 한 주에 서로 다른 난이도의 산 3개를 등반완료하세요 | 기술 | 서로 다른 difficulty의 산 3개 등반완료 |
| P_R_02 | 독서왕 | 일주일 동안 총 100페이지 이상 읽고 기록하세요 | 지식 | 주간 `ReadingLog.pages` 합계 >= 100 |
| P_R_03 | 소셜 네트워커 | 3개의 서로 다른 모임에 참여하세요 | 사교성 | 서로 다른 카테고리 모임 3개 참여 |
| P_R_04 | 지식의 탐구자 | 독서 200페이지 + 영화 2편 기록 | 지식 | 주간 독서+영화 기록 달성 |

### 에픽 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| P_E_01 | 연속 등반 챔피언 | 7일 연속 등반에 성공하세요 | 의지력 | 7일 연속 `ClimbingRecord.isSuccess` |
| P_E_02 | 완벽한 일주일 | 모든 일일 퀘스트를 7일 연속 완료하세요 | 의지력 | 7일간 모든 일일 퀘스트 완료 |
| P_E_03 | 운동 전문가 | 3가지 다른 운동을 기록하고 총 300분 이상 운동하세요 | 체력 | 3가지 운동 타입 & 총 300분 이상 |
| P_E_04 | 주간퀘스트 전체 클리어 | 이번 주 모든 주간 퀘스트를 완료하세요 | 의지력 | 모든 주간 퀘스트 완료 |

### 전설 난이도
| ID | 퀘스트명 | 설명 | 카테고리 | 추적 방법 |
|---|----------|------|----------|-----------|
| P_L_01 | 커뮤니티 리더 | 모임을 호스팅하고 2명 이상의 참가자를 모으세요 | 사교성 | 호스팅한 모임에 2명 이상 참여 |
| P_L_02 | 궁극의 도전 | 30일 챌린지를 시작하고 첫 주를 완벽하게 완료하세요 | 의지력 | 30일 챌린지 참여 & 7일 연속 달성 |
| P_L_03 | 올라운드 플레이어 | 모든 카테고리(체력/지식/기술/사교성/의지력)에서 각 1개 이상 퀘스트 완료 | 기술 | 5개 카테고리 모두에서 퀘스트 완료 |

---

## 📊 능력치 증가 확률

### 능력치 종류
- **체력 (Stamina)**: 운동, 걷기 관련 활동
- **지식 (Knowledge)**: 독서, 영화 관련 활동
- **기술 (Technique)**: 등반, 뱃지 관련 활동
- **사교성 (Sociality)**: 모임, 챌린지 관련 활동
- **의지력 (Willpower)**: 일기, 몰입, 연속 달성 관련 활동

### 능력치 증가 확률
- **일일 보통**: 30% 확률로 +0.1
- **일일 어려움**: 50% 확률로 +0.1
- **주간 쉬움**: 30% 확률로 +0.1
- **주간 보통**: 50% 확률로 +0.1
- **주간 어려움**: 70% 확률로 +0.1
- **고급 레어**: 70% 확률로 +0.1
- **고급 에픽**: 100% 확률로 +0.1
- **고급 전설**: 100% 확률로 +0.2

---

## 🔧 구현 참고사항

### 추적 시스템
- 모든 퀘스트는 `questProvider`의 `onGlobalActivityUpdate()` 메서드를 통해 자동 추적
- 완료 시 `handleActivityCompletion()`을 통해 보상 자동 지급

### 데이터 연동
- **일일 기록**: `DailyRecordData`, `DailyGoal`
- **걸음수**: `todaySteps`, `stepHistoryProvider`
- **등반**: `ClimbingSession`, `ClimbingRecord`
- **모임**: `MeetingLog`, `globalMeetingProvider`
- **챌린지**: `ChallengeRecord`
- **포인트**: `globalPointProvider`
- **능력치**: `GlobalStats`
